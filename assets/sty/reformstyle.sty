% reformstyle.sty - LaTeX style package for Reform Chinese Culture documents
% Created by extracting common formatting from document preambles

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{assets/sty/reformstyle}[2025/01/15 Reform Chinese Culture Style Package]

% Required packages
\RequirePackage{fontspec}
\RequirePackage[UTF8, fontset=none]{ctex}
\RequirePackage{hyperref}
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{titlesec}
\RequirePackage{xcolor}

% Set Chinese fonts for macOS with explicit font settings
\setCJKmainfont[BoldFont={Songti SC Black}, ItalicFont={Songti SC Light}]{Songti SC}
\setCJKsansfont[BoldFont={PingFang SC Semibold}]{PingFang SC}
\setCJKmonofont{Heiti SC Medium}

% Page geometry
\geometry{
    a4paper,
    left=3cm,
    right=3cm,
    top=3cm,
    bottom=3cm
}

% Color definitions
\definecolor{titlecolor}{RGB}{44, 62, 80}
\definecolor{datecolor}{RGB}{127, 140, 141}

% Page style
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[C]{\thepage}

% Section formatting
\titleformat{\section}[hang]
{\Large\bfseries\color{titlecolor}}
{\thesection.}{0.5em}{}

\titleformat{\subsection}[hang]
{\large\bfseries\color{titlecolor}}
{\thesubsection.}{0.5em}{}

% Hyperlink setup
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue,
    citecolor=blue
}

\newcommand{\subtitle}[1]{\gdef\@subtitle{#1}}
\newcommand{\@subtitle}{}
\renewcommand{\maketitle}{%
    \begin{center}
        {\Huge\bfseries \@title}\\[0.5em]
        {\Huge\bfseries \itshape \@subtitle}\\[0.5em]
        {\Large \@date}\\[0.2em]
        {\large \@author}
    \end{center}
    \vspace{2em}
}

% Preamble environment for introductory text
\newenvironment{preamble}{%
    \begin{itshape}
    \renewcommand{\textit}[1]{\textnormal{##1}}
}{%
    \end{itshape}
    \vspace{2em}
}

\newcommand{\reformcopyright}[1]{%
    \vspace{2cm}
    \begin{center}
        \textit{Â© #1 Union for Reform Chinese Culture. All rights reserved.}
    \end{center}
}

% Custom commands for consistent formatting
\newcommand{\doctitle}[1]{%
    \begin{center}
        % {\Huge\bfseries\color{titlecolor} #1}
        {\Huge\bfseries #1}
    \end{center}
%    \vspace{0.001cm}
}

\newcommand{\docsubtitle}[1]{%
    \begin{center}
        % {\Large\bfseries\itshape\color{titlecolor} #1}
        {\Large\bfseries\itshape #1}
    \end{center}
%    \vspace{0.001cm}
}

\newcommand{\docdate}[1]{%
    \begin{center}
        % {\large\itshape\color{titlecolor} #1}
        {\large\itshape #1}
    \end{center}
   \vspace{0.001cm}
}

% End of package
\endinput